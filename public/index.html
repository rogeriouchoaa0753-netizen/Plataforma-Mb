<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Sistema de Login</title>
    <link rel="stylesheet" href="style.css">
    <script>
        // Ocultar logo e √≠cones sociais imediatamente se estiver na tela de registro (antes do DOM carregar)
        // Ocultar bot√£o Voltar se N√ÉO estiver na tela de registro (antes do DOM carregar)
        // IMPORTANTE: Esconder formul√°rio de login se houver token (evita flash da tela de login)
        (function() {
            try {
                const secaoSalva = localStorage.getItem('secaoAtual');
                const token = localStorage.getItem('token');
                
                // Se houver token, esconder loginForm imediatamente para evitar flash
                if (token) {
                    document.write('<style>#loginForm { display: none !important; visibility: hidden !important; }</style>');
                }
                
                if (secaoSalva === 'registro' && !token) {
                    document.write('<style>#loginHero, #loginSocial { display: none !important; }</style>');
                } else {
                    // Se n√£o estiver na tela de registro, ocultar o bot√£o Voltar imediatamente
                    document.write('<style>#btnVoltarRegistro { display: none !important; visibility: hidden !important; opacity: 0 !important; }</style>');
                }
            } catch(e) {}
        })();
    </script>
</head>
<body>
    <div class="container">
        <!-- Menu Inferior Fixo (apenas quando logado) -->
        <nav id="sidebarMenu" class="bottom-nav" style="display: none;">
            <a href="#" class="nav-item" data-section="inicio">
                <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <span class="nav-label">In√≠cio</span>
            </a>
            <a href="#" class="nav-item active" data-section="perfil">
                <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <span class="nav-label">Perfil</span>
            </a>
            <a href="#" class="nav-item" data-section="admin" id="menuAdmin" style="display: none;">
                <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                    <path d="M9 12l2 2 4-4"></path>
                </svg>
                <span class="nav-label">Admin</span>
            </a>
            <a href="#" class="nav-item" data-section="config" id="menuConfig" style="display: none;">
                <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M12 1v6m0 6v6m9-9h-6m-6 0H3m15.364 6.364l-4.243-4.243m-4.242 0L5.636 17.364m12.728 0l-4.243-4.243m-4.242 0L5.636 6.636"></path>
                </svg>
                <span class="nav-label">Config</span>
            </a>
            <a href="#" class="nav-item" data-section="logout" id="menuLogout" style="display: none;">
                <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                    <polyline points="16 17 21 12 16 7"></polyline>
                    <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
                <span class="nav-label">Sair</span>
            </a>
        </nav>

        <div class="login-hero" id="loginHero">
            <img src="images/logo-youtube-missao-brasil.png" alt="Logo Miss√£o Brasil" class="login-hero-logo">
            <div class="login-hero-text">
                <span class="login-hero-title">ADMB</span>
                <span class="login-hero-subtitle">Restaurando vidas &amp; edificando fam√≠lias</span>
            </div>
        </div>

        <div class="login-social" id="loginSocial">
            <a href="https://www.instagram.com/ad.missaobrasil?igsh=MXF2YnNwNmQyMXdhbg==" target="_blank" rel="noopener" class="social-icon instagram" aria-label="Instagram ADMB">
                <img src="images/instagram.png" alt="Instagram">
            </a>
            <a href="https://www.youtube.com/@assmiss%C3%A3obrasil" target="_blank" rel="noopener" class="social-icon youtube" aria-label="YouTube ADMB">
                <img src="images/youtube.png" alt="YouTube">
            </a>
        </div>

        <!-- Bot√£o Voltar (fora da janela, acima do t√≠tulo) -->
        <button type="button" id="btnVoltarRegistro" style="display: none; position: fixed; top: 10px; left: 10px; background: #172341; color: white; border: 1px solid rgba(79, 156, 255, 0.3); border-radius: 6px; padding: 6px 12px; font-size: 12px; font-weight: 600; cursor: pointer; align-items: center; justify-content: center; gap: 4px; z-index: 101; transition: all 0.2s; box-shadow: 0 2px 6px rgba(23, 35, 65, 0.4);">
            <span style="font-size: 18px; line-height: 1;">‚Üê</span>
            <span style="color: var(--accent-orange);">Voltar</span>
        </button>
        
        <!-- T√≠tulo do Cadastro (fora da janela) -->
        <h1 id="tituloCadastro" style="display: none;">Crie a sua Conta MB</h1>
        
        <div class="form-container">
            <h1 id="pageTitle" style="display: none;">Sistema de Login</h1>
            
            <!-- Formul√°rio de Login -->
            <div id="loginForm" class="form-section active" style="display: none;">
                <p class="login-subtitle">Fa√ßa seu login!</p>
                <form id="loginFormElement">
                    <div class="form-group input-with-icon">
                        <div class="input-wrapper">
                            <span class="input-icon">@</span>
                            <input type="email" id="loginEmail" placeholder="Email address" required>
                        </div>
                    </div>
                    <div class="form-group input-with-icon">
                        <div class="input-wrapper">
                            <span class="input-icon">üóù</span>
                            <input type="password" id="loginSenha" placeholder="Password" required>
                        </div>
                    </div>
                    <div class="form-meta">
                        <label class="remember-option">
                            <input type="checkbox" id="rememberLogin">
                            <span>Lembrar login</span>
                        </label>
                        <a href="#" id="forgotPassword" class="link-text">Esqueci a senha</a>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-signin">Entrar</button>
                        <button type="button" class="btn btn-create-account" id="showRegister">Criar Conta</button>
                    </div>
                </form>
                <div class="login-links"></div>
            </div>

            <!-- Formul√°rio de Perfil Completo -->
            <div id="perfilCompletoForm" class="form-section" style="display: none;">
                <form id="perfilCompletoFormElement" style="padding-right: 10px;">
                    <div id="cadastroCredenciaisSection" style="display: none; padding: 0;">
                        <h3 style="color: var(--accent-blue); margin-bottom: 15px;">Dados de Acesso</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="cadastroOcupacao">Ocupa√ß√£o:</label>
                                <select id="cadastroOcupacao">
                                    <option value="">Carregando ocupa√ß√µes...</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="cadastroIgreja">Igreja:</label>
                                <select id="cadastroIgreja">
                                    <option value="">Carregando igrejas...</option>
                                </select>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 15px; margin-bottom: 10px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="cadastroNome">Nome *</label>
                                <input type="text" id="cadastroNome" placeholder="Primeiro nome" autocomplete="given-name">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="cadastroSobrenome">Sobrenome *</label>
                                <input type="text" id="cadastroSobrenome" placeholder="Sobrenome" autocomplete="family-name">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cadastroEmail">Email institucional *</label>
                            <input type="text" id="cadastroEmail" placeholder="gerado automaticamente" autocomplete="off" readonly style="background-color: rgba(17, 27, 47, 0.6); cursor: not-allowed; opacity: 0.7;">
                            <small style="color: var(--text-muted); font-size: 12px;">O email √© gerado automaticamente no formato nome+sobrenome@admb.com</small>
                        </div>
                        <div class="form-group">
                            <label for="cadastroCpf">CPF *</label>
                            <input type="text" id="cadastroCpf" placeholder="000.000.000-00" autocomplete="off">
                        </div>
                        <div class="form-group">
                            <label for="cadastroDataNascimento">Data de Nascimento *</label>
                            <input type="date" id="cadastroDataNascimento" autocomplete="bday">
                        </div>
                        <div class="form-group">
                            <label for="cadastroEstadoCivil">Estado Civil *</label>
                            <select id="cadastroEstadoCivil" required>
                                <option value="">Selecione...</option>
                                <option value="solteiro">Solteiro(a)</option>
                                <option value="casado">Casado(a)</option>
                                <option value="divorciado">Divorciado(a)</option>
                                <option value="viuvo">Vi√∫vo(a)</option>
                            </select>
                        </div>
                        <div class="form-group" id="cadastroDataSacamentoGroup" style="display: none;">
                            <label for="cadastroDataSacamento">Data de Sacamento</label>
                            <input type="date" id="cadastroDataSacamento" autocomplete="off">
                            <small style="color: var(--text-muted); font-size: 12px;">Data do casamento (sacramento)</small>
                        </div>
                        <div class="form-group">
                            <label for="cadastroEndereco">Endere√ßo *</label>
                            <input type="text" id="cadastroEndereco" placeholder="Rua, n√∫mero, bairro" autocomplete="address-line1" required>
                        </div>
                        <div class="form-group">
                            <label for="cadastroCep">CEP:</label>
                            <input type="text" id="cadastroCep" placeholder="00000-000" autocomplete="postal-code">
                        </div>
                        <div class="form-group">
                            <label for="cadastroTelefone">Telefone para Contato *</label>
                            <input type="text" id="cadastroTelefone" placeholder="(00) 00000-0000" autocomplete="tel" required>
                        </div>
                        <div class="form-group">
                            <label for="cadastroTemFilhos">Tem filhos? *</label>
                            <select id="cadastroTemFilhos" required>
                                <option value="">Selecione...</option>
                                <option value="sim">Sim</option>
                                <option value="nao">N√£o</option>
                            </select>
                        </div>
                        <div id="cadastroQuantidadeFilhosGroup" class="form-group" style="display: none;">
                            <label for="cadastroQuantidadeFilhos">Quantos filhos? *</label>
                            <select id="cadastroQuantidadeFilhos">
                                <option value="">Selecione a quantidade...</option>
                                <option value="1">1 filho</option>
                                <option value="2">2 filhos</option>
                                <option value="3">3 filhos</option>
                                <option value="4">4 filhos</option>
                                <option value="5">5 ou mais filhos</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="cadastroSenha">Senha *</label>
                            <input type="password" id="cadastroSenha" placeholder="M√≠nimo 6 caracteres" autocomplete="new-password" minlength="6">
                        </div>
                        <p style="font-size: 12px; color: var(--text-muted); margin-bottom: 20px;">Depois de criar a conta, voc√™ poder√° completar o restante do perfil quando quiser.</p>
                        
                        <div style="display: flex; gap: 10px; margin-top: 20px;">
                            <button type="submit" id="btnCriarConta" class="btn btn-primary" style="flex: 1; opacity: 0.5; cursor: not-allowed;" disabled>Criar Conta</button>
                        </div>
                        
                    </div>
                    <div id="perfilDadosSection" style="display: none; position: relative;">
                        <!-- Bot√£o Sair no topo direito -->
                        <button type="button" id="btnSairPerfil" onclick="fazerLogout()" style="position: absolute; top: 0; right: 0; background: #1e3a5a; border: 1px solid #2a4a6e; border-radius: 4px; padding: 6px 12px; font-size: 12px; color: #AAB4C7; cursor: pointer; display: flex; align-items: center; gap: 6px; transition: all 0.2s; z-index: 10;">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                <polyline points="16 17 21 12 16 7"></polyline>
                                <line x1="21" y1="12" x2="9" y2="12"></line>
                            </svg>
                            <span>Sair</span>
                        </button>
                        <div class="perfilLinhaSeparadora" style="width: 100vw; height: 1px; background-color: #1e242b; position: absolute; left: 50%; transform: translateX(-50%); top: 15px; margin-top: 0px; margin-bottom: 0px;"></div>
                    <!-- Campo de Foto de Perfil -->
                    <div class="form-group" style="margin-bottom: 20px; margin-top: 30px;">
                        <label id="fotoPerfilLabel" style="display: block; margin-bottom: 8px; font-size: 14px; color: #666; position: relative; top: 28px; left: 0px; right: 0px;">Foto de Perfil</label>
                        <div id="fotoPerfilContainer" style="display: flex; flex-direction: row; align-items: flex-start; gap: 20px;">
                            <div style="display: flex; flex-direction: column; align-items: flex-start; gap: 0px;">
                                <div id="fotoPerfilPreview" style="width: 80px; height: 80px; border-radius: 50%; border: 2px solid #1e3a5a; overflow: hidden; background: #152d4a; display: flex; align-items: center; justify-content: center; flex-shrink: 0; box-shadow: 0 2px 8px rgba(21, 45, 74, 0.3); margin-top: 28px; margin-left: 0px; margin-right: 0px; margin-bottom: 0px;">
                                    <img id="fotoPerfilImg" src="" alt="Foto" style="width: 100%; height: 100%; object-fit: cover; display: none;">
                                    <div id="fotoPerfilPlaceholder" style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;">
                                        <svg width="50" height="50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="12" cy="8" r="4" fill="#6BA3D1"/>
                                            <path d="M6 20c0-3.314 2.686-6 6-6s6 2.686 6 6" stroke="#6BA3D1" stroke-width="2" stroke-linecap="round" fill="none"/>
                                        </svg>
                                    </div>
                                </div>
                                <div id="fotoPerfilButtonContainer" style="display: flex; flex-direction: column; gap: 4px; align-items: flex-end; margin-top: 10px; margin-left: 5px; margin-right: 0px; margin-bottom: 0px;">
                                    <label for="fotoPerfilInput" id="btnEscolherFoto" class="foto-perfil-btn" style="cursor: pointer; padding: 3px 6px; font-size: 10px; background: #1e3a5a; border: 1px solid #2a4a6e; border-radius: 3px; color: #AAB4C7; display: inline-block;">
                                        <input type="file" id="fotoPerfilInput" accept="image/*" style="display: none;" onchange="previewFotoPerfil(event)">
                                        Escolher foto
                                    </label>
                                    <label for="fotoPerfilInput" id="btnEditarFoto" class="foto-perfil-btn" style="cursor: pointer; padding: 3px 6px; font-size: 10px; background: #1e3a5a; border: 1px solid #2a4a6e; border-radius: 3px; color: #AAB4C7; display: none;">
                                        Editar Foto
                                    </label>
                                </div>
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 2px; flex: 1; justify-content: center;">
                                <div style="margin-bottom: 0; display: flex; align-items: center; gap: 8px;">
                                    <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">Nome:</label>
                                    <div id="perfilNomeExibicao" style="font-size: 14px; color: #AAB4C7; margin: 0;">-</div>
                                </div>
                                <div style="margin-bottom: 0; display: flex; align-items: center; gap: 8px;">
                                    <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">Email:</label>
                                    <div style="display: flex; align-items: center; gap: 4px;">
                                        <div id="perfilEmailExibicao" style="font-size: 14px; color: #AAB4C7; margin: 0;">-</div>
                                        <span id="perfilAdminBadge" style="font-size: 14px; color: #FF8A3C; font-weight: bold; margin: 0; display: none;">(Adm)</span>
                                    </div>
                                </div>
                                <div style="margin-bottom: 0; display: flex; align-items: center; gap: 8px;">
                                    <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">CPF:</label>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div id="perfilCpfExibicao" style="font-size: 14px; color: #AAB4C7; margin: 0;">-</div>
                                        <span style="font-size: 13px; color: #1e3a5a; font-weight: bold; margin: 0;">ID:</span>
                                        <div id="perfilIdExibicao" style="font-size: 14px; color: #1e3a5a; font-weight: bold; margin: 0;">-</div>
                                    </div>
                                </div>
                                <div style="margin-bottom: 0; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">Igreja:</label>
                                        <div id="perfilIgrejaExibicao" style="font-size: 14px; color: #AAB4C7; margin: 0; font-style: italic;">Indefinido</div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 20px; margin-left: 20px;">
                                        <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">Ocupa√ß√£o:</label>
                                        <div id="perfilOcupacaoExibicao" style="font-size: 14px; color: #AAB4C7; margin: 0; font-style: italic;">Indefinido</div>
                                    </div>
                                </div>
                                <div style="margin-bottom: 0; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">Data de Nascimento:</label>
                                        <div id="perfilDataNascimentoExibicao" style="font-size: 14px; color: #AAB4C7; margin: 0;">-</div>
                                    </div>
                                    <div id="perfilDataCasamentoContainer" style="display: none; flex-direction: row; align-items: center; gap: 20px; margin-left: 20px;">
                                        <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">Data de Casamento:</label>
                                        <div id="perfilDataCasamentoExibicao" style="font-size: 14px; color: #AAB4C7; margin: 0;">-</div>
                                    </div>
                                </div>
                                <div style="margin-bottom: 0; display: flex; align-items: center; gap: 8px;">
                                    <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">Data de Batismo:</label>
                                    <div id="perfilDataBatismoExibicao" style="font-size: 14px; color: #AAB4C7; margin: 0; font-style: italic;">Indefinido</div>
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: 20px; margin-bottom: 8px;">
                            <h2 id="tituloPerfil" style="font-size: 20px; color: #FF8A3C; font-weight: bold; margin: 0; padding: 0; position: relative; top: -220px; left: -150px; right: 0px;">Perfil</h2>
                        </div>
                        <div id="perfilLinhaSeparadora" style="width: 100vw; height: 1px; background-color: #1e3a5a; margin-top: -50px; margin-bottom: 0px; margin-left: calc(-50vw + 50%); position: relative; top: 0px; left: 0px; right: 0px;"></div>
                        <div style="margin-top: 15px; margin-bottom: 0; display: flex; justify-content: flex-end; gap: 10px;">
                            <button type="button" id="btnEditarPerfilDados" style="padding: 6px 12px; font-size: 12px; background: #1e3a5a; border: 1px solid #2a4a6e; border-radius: 4px; color: #AAB4C7; cursor: pointer; transition: all 0.3s ease;">Editar</button>
                        </div>
                        <div id="perfilDadosExibicaoContainer">
                            <div style="margin-top: -25px; margin-bottom: 0; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">Endere√ßo:</label>
                                    <div id="perfilEnderecoExibicaoAbaixoLinha" style="font-size: 14px; color: #AAB4C7; margin: 0;">-</div>
                                </div>
                            </div>
                            <div style="margin-top: 0px; margin-bottom: 0; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">CEP:</label>
                                    <div id="perfilCepExibicaoAbaixoLinha" style="font-size: 14px; color: #AAB4C7; margin: 0; font-style: italic;">Indefinido</div>
                                </div>
                            </div>
                            <div style="margin-top: -5px; margin-bottom: 0; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">Contato:</label>
                                    <div id="perfilContatoExibicao" style="font-size: 14px; color: #AAB4C7; margin: 0;">-</div>
                                </div>
                                <a id="btnWhatsApp" href="#" target="_blank" style="display: none; margin-left: 15px; padding: 6px 12px; font-size: 12px; background: #25D366; border: 1px solid #20BA5A; border-radius: 4px; color: white; text-decoration: none; cursor: pointer; transition: all 0.3s ease; align-items: center; gap: 6px;">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z" fill="currentColor"/>
                                    </svg>
                                    WhatsApp
                                </a>
                            </div>
                            <div style="margin-top: -5px; margin-bottom: 0; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">Estado Civil:</label>
                                    <div id="perfilEstadoCivilExibicaoAbaixoLinha" style="font-size: 14px; color: #AAB4C7; margin: 0;">-</div>
                                </div>
                                <div id="perfilConjugeContainer" style="display: none; margin-left: 20px; align-items: center; gap: 8px;">
                                    <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">Conjuge:</label>
                                    <div id="perfilConjugeExibicao" style="font-size: 14px; color: #AAB4C7; margin: 0;">-</div>
                                </div>
                            </div>
                            <div style="margin-top: 0px; margin-bottom: 0; display: flex; align-items: flex-start; gap: 8px; flex-wrap: wrap;">
                                <div style="display: flex; align-items: flex-start; gap: 8px;">
                                    <label style="font-size: 13px; color: #AAB4C7; font-weight: bold; margin: 0;">Filhos:</label>
                                    <div id="perfilFilhosExibicao" style="font-size: 14px; color: #AAB4C7; margin: 0; flex: 1;">-</div>
                                </div>
                            </div>
                        </div>
                        <div id="perfilDadosEdicaoContainer" style="display: none; margin-top: 15px; margin-bottom: 0;">
                            <div style="display: flex; flex-direction: column; gap: 15px;">
                                <div style="display: flex; flex-wrap: wrap; gap: 15px; align-items: flex-start;">
                                    <div style="flex: 1; min-width: 200px;">
                                        <label style="display: block; font-size: 13px; color: #AAB4C7; font-weight: bold; margin-bottom: 5px;">Endere√ßo:</label>
                                        <input type="text" id="perfilEnderecoEdicao" style="width: 100%; padding: 8px 10px; font-size: 13px; background: #1a2332; border: 1px solid #2a4a6e; border-radius: 4px; color: #AAB4C7; box-sizing: border-box;">
                                    </div>
                                    <div style="flex: 0 0 150px;">
                                        <label style="display: block; font-size: 13px; color: #AAB4C7; font-weight: bold; margin-bottom: 5px;">CEP:</label>
                                        <input type="text" id="perfilCepEdicao" maxlength="9" placeholder="00000-000" style="width: 100%; padding: 8px 10px; font-size: 13px; background: #1a2332; border: 1px solid #2a4a6e; border-radius: 4px; color: #AAB4C7; box-sizing: border-box;">
                                    </div>
                                </div>
                                <div style="display: flex; flex-wrap: wrap; gap: 15px; align-items: flex-start;">
                                    <div style="flex: 1; min-width: 200px;">
                                        <label style="display: block; font-size: 13px; color: #AAB4C7; font-weight: bold; margin-bottom: 5px;">Contato (Telefone):</label>
                                        <input type="text" id="perfilContatoEdicao" placeholder="(00) 00000-0000" style="width: 100%; padding: 8px 10px; font-size: 13px; background: #1a2332; border: 1px solid #2a4a6e; border-radius: 4px; color: #AAB4C7; box-sizing: border-box;">
                                    </div>
                                    <div style="flex: 1; min-width: 200px;">
                                        <label style="display: block; font-size: 13px; color: #AAB4C7; font-weight: bold; margin-bottom: 5px;">Estado Civil:</label>
                                        <select id="perfilEstadoCivilEdicao" style="width: 100%; padding: 8px 10px; font-size: 13px; background: #1a2332; border: 1px solid #2a4a6e; border-radius: 4px; color: #AAB4C7; box-sizing: border-box;">
                                            <option value="">Selecione...</option>
                                            <option value="solteiro">Solteiro(a)</option>
                                            <option value="casado">Casado(a)</option>
                                            <option value="divorciado">Divorciado(a)</option>
                                            <option value="viuvo">Vi√∫vo(a)</option>
                                            <option value="namorando">Namorando</option>
                                        </select>
                                    </div>
                                </div>
                                <div style="display: flex; flex-direction: column; gap: 5px;">
                                    <label style="display: block; font-size: 13px; color: #AAB4C7; font-weight: bold; margin-bottom: 5px;">Filhos:</label>
                                    <div id="perfilFilhosEdicao" style="padding: 8px 10px; font-size: 13px; background: #1a2332; border: 1px solid #2a4a6e; border-radius: 4px; color: #AAB4C7; min-height: 40px; max-height: 120px; overflow-y: auto;">
                                        <span style="color: #73809A; font-style: italic;">Nenhum filho cadastrado</span>
                                    </div>
                                    <small style="font-size: 11px; color: #73809A; margin-top: -5px;">Os filhos podem ser gerenciados na se√ß√£o de relacionamentos do perfil completo.</small>
                                </div>
                                <div id="perfilConjugeEdicaoContainer" style="display: none;">
                                    <div style="display: flex; flex-wrap: wrap; gap: 15px; align-items: flex-end;">
                                        <div style="flex: 1; min-width: 200px;">
                                            <label style="display: block; font-size: 13px; color: #AAB4C7; font-weight: bold; margin-bottom: 5px;">C√¥njuge (ID ou Nome):</label>
                                            <input type="text" id="perfilConjugeEdicao" placeholder="Digite o ID ou nome do c√¥njuge" style="width: 100%; padding: 8px 10px; font-size: 13px; background: #1a2332; border: 1px solid #2a4a6e; border-radius: 4px; color: #AAB4C7; box-sizing: border-box;">
                                        </div>
                                        <button type="button" id="btnBuscarConjuge" style="padding: 8px 15px; font-size: 12px; background: #667eea; border: 1px solid #5568d3; border-radius: 4px; color: white; cursor: pointer; transition: all 0.3s ease; white-space: nowrap;">Buscar</button>
                                    </div>
                                    <div id="perfilConjugeResultado" style="margin-top: 10px; padding: 10px; background: #1a2332; border: 1px solid #2a4a6e; border-radius: 4px; display: none;">
                                        <div style="font-size: 13px; color: #AAB4C7;">
                                            <div><strong>Nome:</strong> <span id="conjugeNomeResultado"></span></div>
                                            <div><strong>ID:</strong> <span id="conjugeIdResultado"></span></div>
                                            <div><strong>Email:</strong> <span id="conjugeEmailResultado"></span></div>
                                        </div>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 10px;">
                                    <button type="button" id="btnSalvarPerfilDados" style="padding: 8px 15px; font-size: 12px; background: #25D366; border: 1px solid #20BA5A; border-radius: 4px; color: white; cursor: pointer; transition: all 0.3s ease;">Salvar</button>
                                    <button type="button" id="btnCancelarPerfilDados" style="padding: 8px 15px; font-size: 12px; background: #dc3545; border: 1px solid #c82333; border-radius: 4px; color: white; cursor: pointer; transition: all 0.3s ease;">Cancelar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="cadastroNomeSection" style="display: none; margin-bottom: 20px;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 15px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="cadastroNomeCompleto">Nome *</label>
                                <input type="text" id="cadastroNomeCompleto" placeholder="Digite o seu nome" autocomplete="name">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="cadastroSobrenomeCompleto">Sobrenome *</label>
                                <input type="text" id="cadastroSobrenomeCompleto" placeholder="Digite seu sobrenome" autocomplete="family-name">
                            </div>
                        </div>
                    </div>
                    <!-- Endere√ßo, CEP, Telefone, Estado Civil e Tem Filhos removidos - agora est√£o apenas no primeiro registro -->
                    <div id="quantidadeFilhosGroup" class="form-group" style="display: none;">
                        <label for="quantidadeFilhos">Quantos filhos? *:</label>
                        <select id="quantidadeFilhos" required>
                            <option value="">Selecione a quantidade...</option>
                            <option value="1">1 filho</option>
                            <option value="2">2 filhos</option>
                            <option value="3">3 filhos</option>
                            <option value="4">4 filhos</option>
                            <option value="5">5 filhos</option>
                            <option value="6">6 filhos</option>
                            <option value="7">7 filhos</option>
                            <option value="8">8 filhos</option>
                            <option value="9">9 filhos</option>
                            <option value="10">10 filhos</option>
                        </select>
                    </div>
                    <div id="camposFilhos" style="display: none; margin-top: 20px;">
                        <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">Dados dos Filhos</h3>
                        <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
                            Voc√™ pode preencher manualmente ou buscar por ID de um cadastro existente
                        </p>
                        <div id="listaFilhos"></div>
                    </div>
                    
                    <!-- Se√ß√£o de Relacionamentos removida -->
                    <div id="relacionamentosSection" style="display: none;">
                        
                        <!-- C√¥njuge -->
                        <div id="conjugeSection" style="margin-bottom: 20px;">
                            <h4 style="font-size: 16px; margin-bottom: 10px;">C√¥njuge</h4>
                            <div id="conjugeInfo" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 10px;"></div>
                            <div id="buscarConjuge" style="display: none;">
                                <div style="margin-bottom: 15px;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 500;">Buscar por:</label>
                                    <select id="tipoBuscaConjuge" style="width: 100%; padding: 8px; border: 2px solid #e0e0e0; border-radius: 5px; margin-bottom: 10px;">
                                        <option value="cpf">CPF</option>
                                        <option value="id">ID do Cadastro</option>
                                    </select>
                                </div>
                                <div style="display: flex; gap: 5px; margin-bottom: 10px;">
                                    <input type="text" id="buscarConjugeCpf" placeholder="CPF do c√¥njuge" style="flex: 1; padding: 8px; border: 2px solid #e0e0e0; border-radius: 5px;">
                                    <input type="number" id="buscarConjugeId" placeholder="ID do cadastro" style="flex: 1; padding: 8px; border: 2px solid #e0e0e0; border-radius: 5px; display: none;">
                                    <button type="button" id="btnBuscarConjuge" class="btn btn-primary" style="width: auto; padding: 8px 15px;">Buscar</button>
                                    <button type="button" id="cancelarBuscarConjuge" class="btn btn-secondary" style="width: 60px; padding: 8px;">Fechar</button>
                                </div>
                                <div id="resultadoBuscaConjuge" style="margin-top: 10px;"></div>
                            </div>
                            <button type="button" id="btnAdicionarConjuge" class="btn btn-secondary" style="width: 100%; margin-top: 10px;">Adicionar C√¥njuge</button>
                        </div>

                        <!-- Filhos -->
                        <div id="filhosSection">
                            <h4 style="font-size: 16px; margin-bottom: 10px;">Filhos</h4>
                            <div id="filhosList"></div>
                            <div id="buscarFilho" style="display: none; margin-top: 10px;">
                                <div style="display: flex; gap: 5px; margin-bottom: 10px;">
                                    <input type="text" id="buscarFilhoCpf" placeholder="CPF do filho" style="flex: 1; padding: 8px; border: 2px solid #e0e0e0; border-radius: 5px;">
                                    <input type="number" id="buscarFilhoId" placeholder="ID do cadastro" style="flex: 1; padding: 8px; border: 2px solid #e0e0e0; border-radius: 5px; display: none;">
                                    <button type="button" id="btnBuscarFilho" class="btn btn-primary" style="width: auto; padding: 8px 15px;">Buscar</button>
                                    <button type="button" id="cancelarBuscarFilho" class="btn btn-secondary" style="width: 60px; padding: 8px;">Fechar</button>
                                </div>
                                <div id="resultadoBuscaFilho" style="margin-top: 10px;"></div>
                            </div>
                            <button type="button" id="btnAdicionarFilho" class="btn btn-secondary" style="width: 100%; margin-top: 10px;">Adicionar Filho</button>
                        </div>
                    </div>
                    </div>
                </form>
            </div>

            <!-- √Årea In√≠cio (Calend√°rio e Programa√ß√µes) -->
            <div id="inicioSection" class="form-section" style="display: none;">
                <!-- Calend√°rio com design melhorado (OCULTO) -->
                <div id="calendarioWrapper" style="display: none; background: white; padding: 25px; border-radius: 16px; margin-bottom: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border: 1px solid #e0e0e0;">
                    <!-- Controles do Calend√°rio -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #f0f0f0;">
                        <button id="btnMesAnterior" class="btn-calendario-nav" style="display: flex; align-items: center; gap: 8px; padding: 10px 18px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);">
                            <span style="font-size: 18px;">‚Üê</span> Anterior
                        </button>
                        <h3 id="mesAnoAtual" style="margin: 0; color: #667eea; font-size: 22px; font-weight: 700; text-align: center; flex: 1;"></h3>
                        <button id="btnProximoMes" class="btn-calendario-nav" style="display: flex; align-items: center; gap: 8px; padding: 10px 18px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);">
                            Pr√≥ximo <span style="font-size: 18px;">‚Üí</span>
                        </button>
                    </div>
                    
                    <!-- Calend√°rio -->
                    <div id="calendarioContainer" style="max-width: 900px; margin: 0 auto;">
                        <div id="calendarioGrid" class="calendario-grid-moderno"></div>
                    </div>
                </div>
                
                <!-- Aniversariantes do M√™s (oculto - movido para aba Programa√ß√µes Passadas) -->
                <div id="aniversariantesContainer" style="display: none; background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
                    <h3 style="color: #856404; margin-bottom: 10px;"> Aniversariantes do M√™s</h3>
                    <div id="listaAniversariantes"></div>
                </div>
                
                <!-- Filtros de Programa√ß√µes -->
                <div id="filtrosProgramacoes" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e0e0e0;">
                    <h3 style="margin: 0 0 15px 0; color: #667eea; font-size: 16px; display: flex; align-items: center;">
                        <span style="font-size: 20px; margin-right: 8px;"></span> Filtrar Programa√ß√µes
                    </h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                        <div>
                            <label for="filtroIgrejaProgramacao" style="display: block; margin-bottom: 5px; font-size: 13px; color: #666;">Igreja:</label>
                            <select id="filtroIgrejaProgramacao" style="width: 100%; padding: 8px; border: 1px solid #e0e0e0; border-radius: 5px; font-size: 13px;">
                                <option value="">Todas as igrejas</option>
                            </select>
                        </div>
                        <div>
                            <label for="filtroCodigoProgramacao" style="display: block; margin-bottom: 5px; font-size: 13px; color: #666;">C√≥digo:</label>
                            <div style="position: relative;">
                                <input type="text" id="filtroCodigoProgramacao" placeholder="Ex: PRG-2025-001" style="width: 100%; padding: 8px 35px 8px 8px; border: 1px solid #e0e0e0; border-radius: 5px; font-size: 13px;">
                                <button id="btnPesquisarCodigo" type="button" class="btn btn-primary" style="position: absolute; right: 5px; top: 50%; transform: translateY(-50%); padding: 5px 10px; font-size: 14px; border-radius: 4px; display: none; cursor: pointer; background: #667eea; color: white; border: none;">
                                    Buscar
                                </button>
                            </div>
                        </div>
                        <div>
                            <label for="filtroTituloProgramacao" style="display: block; margin-bottom: 5px; font-size: 13px; color: #666;">Nome/T√≠tulo:</label>
                            <div style="position: relative;">
                                <input type="text" id="filtroTituloProgramacao" placeholder="Buscar por t√≠tulo..." style="width: 100%; padding: 8px 35px 8px 8px; border: 1px solid #e0e0e0; border-radius: 5px; font-size: 13px;">
                                <button id="btnPesquisarTitulo" type="button" class="btn btn-primary" style="position: absolute; right: 5px; top: 50%; transform: translateY(-50%); padding: 5px 10px; font-size: 14px; border-radius: 4px; display: none; cursor: pointer; background: #667eea; color: white; border: none;">
                                    Buscar
                                </button>
                            </div>
                        </div>
                        <div style="display: flex; align-items: flex-end; gap: 8px;">
                            <button id="btnPesquisarFiltros" type="button" class="btn btn-primary" style="flex: 1; padding: 8px; font-size: 13px; display: none;">
                                 Pesquisar
                            </button>
                            <button id="btnLimparFiltrosProgramacao" class="btn btn-secondary" style="flex: 1; padding: 8px; font-size: 13px;">
                                 Limpar
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Bot√£o para criar programa√ß√£o/solicita√ß√£o -->
                <div style="margin-bottom: 20px;">
            <button id="btnCriarProgramacao" class="btn btn-primary" style="width: auto; padding: 10px 20px;">
                        Criar Programa√ß√£o
                    </button>
                </div>
                
                <!-- Modal para criar programa√ß√£o (admin) ou solicita√ß√£o (usu√°rio comum) -->
                <div id="modalCriarProgramacao" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 10000; align-items: center; justify-content: center; padding: 20px; overflow-y: auto;">
                    <div style="background: white; border-radius: 12px; max-width: 800px; width: 100%; max-height: 90vh; overflow-y: auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3); position: relative;">
                        <button id="fecharModalProgramacao" style="position: absolute; top: 15px; right: 15px; background: #f44336; color: white; border: none; border-radius: 18px; padding: 8px 14px; font-size: 14px; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 4px rgba(0,0,0,0.2); z-index: 10001;">Fechar</button>
                        
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 15px 20px; border-radius: 12px 12px 0 0; color: white;">
                            <h2 id="tituloFormProgramacao" style="margin: 0; font-size: 18px; font-weight: bold;"></h2>
                        </div>
                        
                        <div style="padding: 15px;">
                            <form id="formProgramacaoElement">
                        <div class="form-group" style="margin-bottom: 12px;">
                            <label for="programacaoTitulo" style="font-size: 13px; margin-bottom: 4px; display: block;">T√≠tulo do Evento *:</label>
                            <input type="text" id="programacaoTitulo" required style="width: 100%; padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 13px;">
                        </div>
                        <div class="form-group" style="margin-bottom: 12px;">
                            <label for="programacaoDescricao" style="font-size: 13px; margin-bottom: 4px; display: block;">Descri√ß√£o:</label>
                            <textarea id="programacaoDescricao" rows="2" style="width: 100%; padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; font-family: inherit; font-size: 13px; resize: vertical;"></textarea>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="programacaoData" style="font-size: 13px; margin-bottom: 4px; display: block;">Data In√≠cio *:</label>
                                <input type="date" id="programacaoData" required style="width: 100%; padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 13px;">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="programacaoDataFim" style="font-size: 13px; margin-bottom: 4px; display: block;">Data Fim:</label>
                                <input type="date" id="programacaoDataFim" style="width: 100%; padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 13px;">
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="programacaoHora" style="font-size: 13px; margin-bottom: 4px; display: block;">Hora:</label>
                                <div style="display: flex; gap: 6px; align-items: center;">
                                    <select id="programacaoHoraHora" style="flex: 1; padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 13px; cursor: pointer; background: white;">
                                        <option value="">--</option>
                                    </select>
                                    <span style="font-size: 16px; font-weight: bold; color: #667eea;">:</span>
                                    <select id="programacaoHoraMinuto" style="flex: 1; padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 13px; cursor: pointer; background: white;">
                                        <option value="">--</option>
                                    </select>
                                    <input type="hidden" id="programacaoHora">
                                </div>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="programacaoLocal" style="font-size: 13px; margin-bottom: 4px; display: block;">Local / Igreja:</label>
                                <select id="programacaoLocal" style="width: 100%; padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 13px;">
                                    <option value="">Selecione uma igreja...</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group" style="margin-bottom: 12px;">
                            <label for="programacaoLocalTexto" style="font-size: 12px; color: #666; margin-bottom: 4px; display: block;">Ou informe outro local:</label>
                            <input type="text" id="programacaoLocalTexto" placeholder="Ex: Sal√£o de eventos..." style="width: 100%; padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 13px;">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 12px;">
                            <label for="programacaoObservacoes" style="font-size: 13px; color: #666; margin-bottom: 4px; display: block;">
                                Observa√ß√µes (opcional):
                            </label>
                            <textarea id="programacaoObservacoes" rows="2" placeholder="Detalhes adicionais..." style="width: 100%; padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; font-family: inherit; font-size: 13px; resize: vertical;"></textarea>
                        </div>
                        
                        <!-- Se√ß√£o de Vincular Membros -->
                        <div id="secaoVincularMembros" style="background: #f8f9fa; padding: 12px; border-radius: 6px; margin-bottom: 12px; border: 1px solid #e0e0e0;">
                            <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                <input type="checkbox" id="ativarVinculoMembros" style="width: 18px; height: 18px; margin-right: 8px; cursor: pointer;">
                                <label for="ativarVinculoMembros" style="font-weight: bold; color: #667eea; cursor: pointer; margin: 0; font-size: 13px;">
                                    Vincular Membros
                                </label>
                            </div>
                            <div id="opcoesVinculoMembros" style="display: none;">
                                <div class="form-group" style="margin-bottom: 10px;">
                                    <label for="programacaoHorarioVinculo" style="font-size: 12px; color: #666;">
                                        <input type="checkbox" id="programacaoHorarioVinculo" style="width: 16px; height: 16px; margin-right: 6px; cursor: pointer;">
                                        Hor√°rio espec√≠fico para membros
                                    </label>
                                </div>
                                <div id="horarioVinculoContainer" style="display: none; margin-bottom: 10px;">
                                    <label for="programacaoHoraVinculo" style="display: block; margin-bottom: 4px; font-size: 12px; color: #666;">Hor√°rio Membros:</label>
                                    <div style="display: flex; gap: 6px; align-items: center; max-width: 180px;">
                                        <select id="programacaoHoraVinculoHora" style="flex: 1; padding: 6px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 12px; cursor: pointer;">
                                            <option value="">--</option>
                                        </select>
                                        <span style="font-size: 14px; font-weight: bold; color: #667eea;">:</span>
                                        <select id="programacaoHoraVinculoMinuto" style="flex: 1; padding: 6px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 12px; cursor: pointer;">
                                            <option value="">--</option>
                                        </select>
                                        <input type="hidden" id="programacaoHoraVinculo">
                                    </div>
                                </div>
                                <div class="form-group" style="margin-bottom: 0;">
                                    <label style="display: block; margin-bottom: 4px; font-size: 12px; color: #666;">Selecionar Membros:</label>
                                    <div id="listaMembrosVinculo" style="max-height: 150px; overflow-y: auto; border: 1px solid #e0e0e0; border-radius: 5px; padding: 8px; background: white;">
                                        <p style="color: #999; font-size: 12px; margin: 0;">Carregando membros...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                                <div style="display: flex; gap: 10px; margin-top: 12px;">
                                    <button type="submit" class="btn btn-primary" style="flex: 1; padding: 10px; font-size: 13px;">Salvar</button>
                                    <button type="button" id="cancelarProgramacao" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 13px;">Cancelar</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- Sistema de Tabs para Programa√ß√µes -->
                <div style="margin-top: 30px;">
                    <h3 style="margin-bottom: 20px; color: #667eea; font-size: 20px; font-weight: bold;">Gerenciar Programa√ß√µes</h3>
                    
                    <!-- Abas -->
                    <div class="tabs-container" style="margin-bottom: 20px;">
                        <button class="tab-button active" data-tab="programacoes" id="tabProgramacoes">Programa√ß√µes Aprovadas</button>
                        <button class="tab-button" data-tab="programacoesPassadas" id="tabProgramacoesPassadas">Programa√ß√µes Passadas</button>
                        <button class="tab-button" data-tab="aniversariantes" id="tabAniversariantes">Aniversariantes do M√™s</button>
                        <button class="tab-button" data-tab="solicitacoes" id="tabSolicitacoes" style="display: none;">Solicita√ß√µes Pendentes</button>
                        <button class="tab-button" data-tab="minhasSolicitacoes" id="tabMinhasSolicitacoes" style="display: none;">Minhas Solicita√ß√µes</button>
                    </div>
                    
                    <!-- Conte√∫do das Abas -->
                    <div id="tabContentProgramacoes">
                        <!-- Aba Programa√ß√µes Aprovadas -->
                        <div id="tabContentProgramacoesAprovadas" class="tab-content active">
                            <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border: 1px solid #e0e0e0;">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #667eea;">
                                    <h4 style="margin: 0; color: #667eea; font-size: 18px; font-weight: bold; display: flex; align-items: center;">
                                        <span style="font-size: 22px; margin-right: 10px;"></span> Programa√ß√µes Aprovadas do M√™s
                                    </h4>
                                    <span id="contadorProgramacoes" style="background: #667eea; color: white; padding: 5px 12px; border-radius: 15px; font-size: 13px; font-weight: bold;"></span>
                                </div>
                                <div id="listaProgramacoes"></div>
                            </div>
                        </div>
                        
                        <!-- Aba Solicita√ß√µes Pendentes (apenas admin) -->
                        <div id="tabContentSolicitacoesPendentes" class="tab-content">
                            <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border: 1px solid #ffc107;">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #ffc107;">
                                    <h4 style="margin: 0; color: #ff9800; font-size: 18px; font-weight: bold; display: flex; align-items: center;">
                                        Solicita√ß√µes Pendentes
                                    </h4>
                                    <span id="contadorSolicitacoes" style="background: #ffc107; color: #856404; padding: 5px 12px; border-radius: 15px; font-size: 13px; font-weight: bold;"></span>
                                </div>
                                <div id="listaSolicitacoes"></div>
                            </div>
                        </div>
                        
                        <!-- Aba Programa√ß√µes Passadas -->
                        <div id="tabContentProgramacoesPassadas" class="tab-content">
                            <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border: 1px solid #757575;">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #757575;">
                                    <h4 style="margin: 0; color: #757575; font-size: 18px; font-weight: bold; display: flex; align-items: center;">
                                        <span style="font-size: 22px; margin-right: 10px;"></span> Programa√ß√µes Passadas
                                    </h4>
                                    <span id="contadorProgramacoesPassadas" style="background: #757575; color: white; padding: 5px 12px; border-radius: 15px; font-size: 13px; font-weight: bold;"></span>
                                </div>
                                <div id="listaProgramacoesPassadas"></div>
                            </div>
                        </div>
                        
                        <!-- Aba Aniversariantes do M√™s -->
                        <div id="tabContentAniversariantes" class="tab-content">
                            <div style="background: #fff3cd; padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border-left: 4px solid #ffc107;">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #ffc107;">
                                    <h4 style="margin: 0; color: #856404; font-size: 18px; font-weight: bold; display: flex; align-items: center;">
                                        <span style="font-size: 22px; margin-right: 10px;"></span> Aniversariantes do M√™s
                                    </h4>
                                    <span id="contadorAniversariantes" style="background: #ffc107; color: #856404; padding: 5px 12px; border-radius: 15px; font-size: 13px; font-weight: bold;"></span>
                                </div>
                                <div id="listaAniversariantes"></div>
                            </div>
                        </div>
                        
                        <!-- Aba Minhas Solicita√ß√µes (usu√°rios comuns) -->
                        <div id="tabContentMinhasSolicitacoes" class="tab-content">
                            <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border: 1px solid #667eea;">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #667eea;">
                                    <h4 style="margin: 0; color: #667eea; font-size: 18px; font-weight: bold; display: flex; align-items: center;">
                                        <span style="font-size: 22px; margin-right: 10px;"></span> Minhas Solicita√ß√µes
                                    </h4>
                                    <span id="contadorMinhasSolicitacoes" style="background: #667eea; color: white; padding: 5px 12px; border-radius: 15px; font-size: 13px; font-weight: bold;"></span>
                                </div>
                                <div id="listaMinhasSolicitacoes"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- √Årea do Perfil (ap√≥s login) -->
            <div id="profileSection" class="form-section" style="display: none;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2 style="margin: 0;">Meu Perfil</h2>
                    <button id="btnEditarPerfil" class="btn btn-primary" style="width: auto; padding: 10px 20px;">Editar</button>
                </div>
                <div id="userInfo"></div>
            </div>

            <!-- √Årea Administrativa -->
            <div id="adminSection" class="form-section" style="display: none;">
                <h2>√Årea Administrativa</h2>
                <p style="color: #666; margin-bottom: 20px;">Visualize e gerencie todos os membros cadastrados</p>
                
                <!-- Filtros -->
                <div id="filtrosAdmin" style="background: #f8f9fa; padding: 12px; border-radius: 8px; margin-bottom: 15px; display: none;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; align-items: end;">
                        <div class="form-group" style="margin-bottom: 0;">
                            <label style="font-size: 12px; margin-bottom: 3px; color: #666;">Igreja:</label>
                            <select id="filtroIgreja" style="width: 100%; padding: 8px; font-size: 14px;">
                                <option value="">Todas</option>
                            </select>
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label style="font-size: 12px; margin-bottom: 3px; color: #666;">Ocupa√ß√£o:</label>
                            <select id="filtroOcupacao" style="width: 100%; padding: 8px; font-size: 14px;">
                                <option value="">Todas</option>
                            </select>
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label style="font-size: 12px; margin-bottom: 3px; color: #666;">ID:</label>
                            <input type="text" id="filtroId" placeholder="ID" style="width: 100%; padding: 8px; font-size: 14px;">
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label style="font-size: 12px; margin-bottom: 3px; color: #666;">Nome:</label>
                            <input type="text" id="filtroNome" placeholder="Nome" style="width: 100%; padding: 8px; font-size: 14px;">
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label style="font-size: 12px; margin-bottom: 3px; color: #666;">CPF:</label>
                            <input type="text" id="filtroCpf" placeholder="CPF" style="width: 100%; padding: 8px; font-size: 14px;">
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button onclick="aplicarFiltros()" class="btn btn-primary" style="width: auto; padding: 8px 15px; font-size: 14px; margin: 0;">Aplicar</button>
                            <button onclick="limparFiltros()" class="btn btn-secondary" style="width: auto; padding: 8px 15px; font-size: 14px; margin: 0;">Limpar</button>
                        </div>
                    </div>
                </div>
                
                <div id="adminContent">
                    <div style="text-align: center; padding: 40px;">
                        <p>Carregando membros...</p>
                    </div>
                </div>
            </div>

            <!-- √Årea de Configura√ß√£o -->
            <div id="configSection" class="form-section" style="display: none;">
                <h2>Configura√ß√£o</h2>
                <p style="color: #666; margin-bottom: 20px;">Gerencie igrejas e ocupa√ß√µes do sistema</p>
                
                <!-- Abas -->
                <div class="tabs-container" style="margin-bottom: 20px;">
                    <button class="tab-button active" data-tab="igrejas">Criar Igreja</button>
                    <button class="tab-button" data-tab="areas-servicos">Criar Ocupa√ß√£o</button>
                </div>

                <!-- Conte√∫do das Abas -->
                <div id="tabContent">
                    <!-- Aba Igrejas -->
                    <div id="tab-igrejas" class="tab-content active">
                        <h3 style="color: #667eea; margin-bottom: 15px;">Gerenciar Igrejas</h3>
                        
                        <!-- Formul√°rio de Criar Igreja -->
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                            <h4 style="margin-bottom: 15px;">Nova Igreja</h4>
                            <form id="formIgreja">
                                <div class="form-group">
                                    <label for="igrejaNome">Nome da Igreja *:</label>
                                    <input type="text" id="igrejaNome" required placeholder="Ex: Igreja Central">
                                </div>
                                <div class="form-group">
                                    <label for="igrejaEstado">Estado:</label>
                                    <input type="text" id="igrejaEstado" placeholder="Ex: S√£o Paulo, Rio de Janeiro">
                                </div>
                                <div class="form-group">
                                    <label for="igrejaDescricao">Descri√ß√£o:</label>
                                    <textarea id="igrejaDescricao" rows="3" placeholder="Descri√ß√£o da igreja (opcional)"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="igrejaQuantidade">Quantidade de Pessoas Vinculadas:</label>
                                    <input type="number" id="igrejaQuantidade" min="0" value="0" placeholder="0">
                                </div>
                                <button type="submit" class="btn btn-primary">Criar Igreja</button>
                            </form>
                        </div>

                        <!-- Lista de Igrejas -->
                        <div>
                            <h4 style="margin-bottom: 15px;">Igrejas Cadastradas</h4>
                            <div id="listaIgrejas">
                                <p style="text-align: center; color: #666; padding: 20px;">Carregando igrejas...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Aba Ocupa√ß√µes -->
                    <div id="tab-areas-servicos" class="tab-content">
                        <h3 style="color: #667eea; margin-bottom: 15px;">Gerenciar Ocupa√ß√µes</h3>
                        
                        <!-- Formul√°rio de Criar Ocupa√ß√£o -->
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                            <h4 style="margin-bottom: 15px;">Nova Ocupa√ß√£o</h4>
                            <form id="formAreaServico">
                                <div class="form-group">
                                    <label for="areaServicoNome">Qual nome da ocupa√ß√£o *:</label>
                                    <input type="text" id="areaServicoNome" required placeholder="Ex: Educa√ß√£o, Sa√∫de, etc.">
                                </div>
                                <div class="form-group">
                                    <label for="areaServicoDescricao">Descri√ß√£o:</label>
                                    <textarea id="areaServicoDescricao" rows="3" placeholder="Descri√ß√£o (opcional)"></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary" style="margin-top: 10px;">Criar Ocupa√ß√£o</button>
                            </form>
                        </div>

                        <!-- Lista de Ocupa√ß√µes -->
                        <div>
                            <h4 style="margin-bottom: 15px;">Ocupa√ß√µes Cadastradas</h4>
                            <div id="listaAreasServicos">
                                <p style="text-align: center; color: #666; padding: 20px;">Carregando ocupa√ß√µes...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mensagens -->
            <div id="message" class="message"></div>
        </div>
    </div>

    <!-- Modal Esqueci a Senha -->
    <div id="modalEsqueciSenha" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 10000; align-items: center; justify-content: center; padding: 20px;">
        <div style="background: linear-gradient(180deg, rgba(17, 27, 47, 0.95) 0%, rgba(12, 19, 34, 0.98) 100%); border-radius: 16px; max-width: 400px; width: 100%; padding: 30px; box-shadow: 0 16px 32px rgba(3, 7, 18, 0.35), 0 4px 12px rgba(3, 7, 18, 0.25); border: 1px solid rgba(79, 156, 255, 0.15); backdrop-filter: blur(14px); position: relative;">
            <button id="fecharModalEsqueciSenha" style="position: absolute; top: 15px; right: 15px; background: transparent; border: none; color: #AAB4C7; font-size: 24px; cursor: pointer; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s;">&times;</button>
            
            <h2 style="color: var(--accent-orange); margin: 0 0 10px 0; font-size: 22px; font-weight: bold;">Alterar Senha</h2>
            <p style="color: var(--text-light); font-size: 14px; margin-bottom: 20px;">Informe seu CPF para solicitar a altera√ß√£o de senha.</p>
            
            <form id="formEsqueciSenha">
                <div class="form-group" style="margin-bottom: 20px;">
                    <label for="cpfRecuperacao" style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-size: 14px;">CPF:</label>
                    <input type="text" id="cpfRecuperacao" placeholder="000.000.000-00" required style="width: 100%; padding: 12px; background: rgba(22, 33, 55, 0.9); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 8px; color: var(--text-primary); font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div class="form-group" style="margin-bottom: 20px;">
                    <label for="novaSenhaRecuperacao" style="display: block; margin-bottom: 8px; color: var(--text-secondary); font-size: 14px;">Nova Senha:</label>
                    <input type="password" id="novaSenhaRecuperacao" placeholder="Digite sua nova senha (m√≠nimo 6 caracteres)" required minlength="6" style="width: 100%; padding: 12px; background: rgba(22, 33, 55, 0.9); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 8px; color: var(--text-primary); font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="display: flex; gap: 10px;">
                    <button type="submit" class="btn btn-primary" style="flex: 1; padding: 12px; font-size: 14px;">Alterar Senha</button>
                    <button type="button" id="cancelarEsqueciSenha" class="btn btn-secondary" style="flex: 1; padding: 12px; font-size: 14px;">Cancelar</button>
                </div>
            </form>
            
            <div id="mensagemEsqueciSenha" style="margin-top: 15px; padding: 10px; border-radius: 6px; display: none; font-size: 13px;"></div>
        </div>
    </div>

    <script src="script.js"></script>

    <!-- Loading Screen -->
    <div id="loadingScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(11, 17, 32, 0.95); display: flex; align-items: center; justify-content: center; z-index: 9999; flex-direction: column; gap: 12px;">
        <!-- √çcone (menor) acima do texto -->
        <div style="width: 28px; height: 28px; border: 3px solid rgba(79, 156, 255, 0.2); border-top-color: #4F9CFF; border-radius: 50%; animation: spin 1s linear infinite;"></div>
        <div style="font-size: 24px; color: #AAB4C7; font-weight: 500; letter-spacing: 1px;">Carregando ADMB ...</div>
    </div>

    <style>
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</body>
</html>

